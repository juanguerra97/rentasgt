

<div class="row">

  <div class="col-12 col-md-6 col-lg-8">

    <div class="d-flex">
      <h4 class="flex-fill">Categor&iacute;as</h4>
      <div class="d-flex">

        <button [disabled]="selectedCategory == null" class="btn btn-default p-0">
          <fa-icon [icon]="faEdit"></fa-icon>
        </button>

        <button [disabled]="selectedCategory == null" class="btn btn-default p-0 ml-2">
          <fa-icon [icon]="faTrash"></fa-icon>
        </button>

      </div>
    </div>

    <div class="table-responsive">
      <table class="table table-hover">
        <thead>
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Descripci&oacute;n</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let categ of categories" (click)="onCategoryClicked(categ)" [ngClass]="{'bg-info text-white': categ === selectedCategory}">
          <td>{{ categ.id }}</td>
          <td>{{ categ.name }}</td>
          <td>{{ categ.description | slice:0:128 }}</td>
        </tr>
        </tbody>
      </table>
    </div>

    <nav *ngIf="pageInfo != null && pageInfo.totalPages > 1" aria-label="Categories Navigation" class="d-flex p-0 justify-content-end">
      <ul class="pagination">

        <li class="page-item">
          <button (click)="previousPage()" [disabled]="pageInfo.pagesSpace.length < 5 || pageInfo.pagesSpace[0] === 1"
            class="btn btn-default" aria-label="Anterior">
            <span aria-hidden="true">&laquo;</span>
          </button>
        </li>

        <li *ngFor="let pageNum of pageInfo.pagesSpace" [ngClass]="{'page-item': true, 'active': pageNum === pageInfo.currentPage}"><button (click)="loadCategories(pageInfo.pageSize, pageNum)" class="page-link btn btn-default">{{ pageNum }}</button></li>

        <li class="page-item">
          <button (click)="nextPage()" [disabled]="pageInfo.pagesSpace.length < 5 || pageInfo.pagesSpace[pageInfo.pagesSpace.length - 1] === pageInfo.totalPages"
            class="btn btn-default" aria-label="Siguiente">
            <span aria-hidden="true">&raquo;</span>
          </button>
        </li>

      </ul>
    </nav>

  </div>

  <div class="col-12 col-md-6 col-lg-4">

    <form (ngSubmit)="onSubmitNewCategoryForm()" [formGroup]="newCategoryForm">

      <div class="form-group">
        <label for="name">Nombre</label>
        <input formControlName="name" type="text" id="name" class="form-control">
      </div>

      <div class="form-group">
        <label for="description">Descripci&oacute;n</label>
        <textarea formControlName="description" id="description" cols="30" rows="10" class="form-control"></textarea>
      </div>

      <input [disabled]="!newCategoryForm.valid"
             type="submit" value="Guardar" class="btn btn-sm btn-primary">

    </form>

  </div>

</div>
